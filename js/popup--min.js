"use strict";let storageEmailVal,storageNameVal,link=document.querySelector(".contacts__button"),modal=document.querySelector(".contact-us"),close=modal.querySelector(".modal__close"),form=modal.querySelector(".contact-us__form"),name=form.querySelector("#contact-us__name"),email=form.querySelector("#contact-us__email"),letter=form.querySelector("#contact-us__text"),isStorageSupport=!0;try{storageEmailVal=localStorage.getItem("email"),storageNameVal=localStorage.getItem("name")}catch(e){isStorageSupport=!1}link.addEventListener("click",(function(e){e.preventDefault(),modal.classList.add("modal--show"),storageNameVal?(name.value=storageNameVal,storageEmailVal&&(email.value=storageEmailVal),letter.focus()):name.focus()})),close.addEventListener("click",(function(e){e.preventDefault(),modal.classList.remove("modal--error"),modal.classList.remove("modal--show")})),window.addEventListener("keydown",(function(e){27===e.keyCode&&modal.classList.contains("modal--show")&&(e.preventDefault(),modal.classList.remove("modal--error"),modal.classList.remove("modal--show"))})),form.addEventListener("submit",(function(e){email.value&&letter.value?isStorageSupport&&(localStorage.setItem("email",email.value),name.value&&localStorage.setItem("name",name.value)):(e.preventDefault(),modal.classList.add("modal--error"))}));